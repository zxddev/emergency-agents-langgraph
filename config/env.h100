# H100 环境（本地/专用推理）— 基于当前 dev.env 的基线副本
# 注意：请将 OPENAI_BASE_URL/LLM_ENDPOINTS 指向 H100 上的推理网关（vLLM/TGI/OpenAI 兼容）。

# 存储与图数据库（按集群网络）
QDRANT_URL=http://192.168.31.40:6333
QDRANT_API_KEY=qdrantzmkj123456
NEO4J_URI=bolt://192.168.31.40:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4jzmkj123456
POSTGRES_DSN=postgresql://postgres:postgres123@192.168.31.40:5432/emergency_agent
CHECKPOINT_SQLITE_PATH=./temp/checkpoints.sqlite3

# LLM 网关指向本机 gpt-oss-120B (vLLM，端口 8000)
LLM_KEY_PRIMARY=dummy_key
LLM_KEY_SECONDARY=dummy_key
LLM_KEY_TERTIARY=dummy_key
LLM_KEY_LEGACY=dummy_key
LLM_KEY_RECON=dummy_key

OPENAI_BASE_URL=http://192.168.31.50:8000/v1
OPENAI_API_KEY=${LLM_KEY_PRIMARY}
LLM_KEY_RESCUE=${LLM_KEY_SECONDARY}
LLM_KEY_INTENT=${LLM_KEY_TERTIARY}
LLM_KEY_STRATEGIC=${LLM_KEY_LEGACY}
LLM_MODEL=/models/gpt-oss-120b
INTENT_LLM_MODEL=/models/gpt-oss-120b
RECON_LLM_MODEL=/models/gpt-oss-120b
RECON_LLM_BASE_URL=http://192.168.31.50:8000/v1
RECON_LLM_API_KEY=${LLM_KEY_RECON}
LLM_ENDPOINTS=[{"name":"gpt-oss-120b","base_url":"http://192.168.31.50:8000/v1","api_key":"${LLM_KEY_PRIMARY}","priority":200,"weight":2}]
LLM_ENDPOINT_GROUPS={"default":[{"name":"default-gpt-oss","base_url":"http://192.168.31.50:8000/v1","api_key":"${LLM_KEY_PRIMARY}","priority":200}],"rescue":[{"name":"rescue-gpt-oss","base_url":"http://192.168.31.50:8000/v1","api_key":"${LLM_KEY_RESCUE}","priority":200}],"intent":[{"name":"intent-gpt-oss","base_url":"http://192.168.31.50:8000/v1","api_key":"${LLM_KEY_INTENT}","priority":200}],"strategic":[{"name":"strategic-gpt-oss","base_url":"http://192.168.31.50:8000/v1","api_key":"${LLM_KEY_STRATEGIC}","priority":200}]}
# H100 上可适当增大并发与超时
LLM_FAILURE_THRESHOLD=1
LLM_RECOVERY_SECONDS=10
LLM_MAX_CONCURRENCY=200
LLM_REQUEST_TIMEOUT_SECONDS=120

EMBEDDING_MODEL=embedding-3
EMBEDDING_DIM=1536
RAG_OPENAI_API_KEY=${LLM_KEY_SECONDARY}
RAG_ANALYSIS_TIMEOUT=90

# ASR/TTS 可继续使用原有设置
ASR_PRIMARY_PROVIDER=aliyun
DASHSCOPE_API_KEY=sk-8d00f0cf1c2040a99f70620e9f491f60
ASR_FALLBACK_PROVIDER=local

FUNASR_HOTWORDS_JSON=
FUNASR_CHUNK_SIZE=
HEALTH_CHECK_INTERVAL=30

VOICE_TTS_URL=http://192.168.31.40:18002/api/tts
VOICE_TTS_VOICE=zh-CN-XiaoxiaoNeural
SILERO_VAD_LOCAL_REPO=/home/msq/.cache/torch/hub/snakers4_silero-vad_master

# 高德地图 API 配置
AMAP_API_KEY=ce02c0925994ff5f7029db013b7e710e
AMAP_API_BACKUP_KEY=emengency-back
AMAP_API_URL=https://restapi.amap.com
AMAP_API_CONNECT_TIMEOUT=10
AMAP_API_READ_TIMEOUT=10
VIDEO_STREAM_MAP={"drone-1":"rtsp://streams.company.local/drone-1"}
KG_API_URL=http://192.168.31.40:8008
RAG_API_URL=http://192.168.31.40:8008

# Adapter Hub 配置
ADAPTER_HUB_BASE_URL=http://192.168.31.40:18090
ADAPTER_HUB_TIMEOUT=60
DEFAULT_ROBOTDOG_ID=7

# Java Orchestrator 网关地址
WEB_API_BASE_URL=http://127.0.0.1:28080/web-api

# 统一意图
INTENT_UNIFIED_MODE=true
UNKNOWN_CONFIDENCE_THRESHOLD=0.7
INTENT_UNIFIED_FALLBACK=true
ENABLE_MEM0=false

# 风险缓存
RISK_CACHE_TTL_SECONDS=120
RISK_REFRESH_INTERVAL_SECONDS=60

# Redis
REDIS_URL=redis://192.168.31.40:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5
RECON_PLAN_CACHE_TTL=3600
